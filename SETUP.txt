### tsca-agencydev developer setup

## NB: if you are using Apple Silicon, make sure to use a Intel shell
## and have an Intel version of Homebrew setup properly

(at the project root directory)
$ git submodule init
$ git submodule update
$ opam update
$ opam switch create . ocaml-base-compiler.4.09.1 --no-install
$ opam pin vendors/ppx_meta_conv
$ opam pin ppxlib 0.12.0 -n
$ opam pin tezos-client-base-unix 7.4 -n
$ opam pin js_of_ocaml 3.6.0 -n
$ opam install . --deps-only
$ dune external-lib-deps --missing @@default # and install listed packages
$ dune build

### on merlin and emacs

it is highly recommended to install `merlin` for the purpose of
development.

for emacs, the `tuareg` package is recommended for the authoring of
OCaml files.

to make emacs happy with local opam switches, you may find the
following elisp helpful

```elisp
(defun opam-env ()
  (interactive nil)
  (dolist (var (car (read-from-string (shell-command-to-string "opam config env --sexp"))))
    (setenv (car var) (cadr var))))
```

### on utop

it is recommended to launch utop with dune, which could be done as:

$ dune utop

(in emacs)
$ dune utop . -- -emacs

without doubt, there is a utop mode for emacs available
